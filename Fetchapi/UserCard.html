<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>User Card ‚Äî Fetch API example</title>
  <style>
    :root{--bg:#f3f6fb;--card:#fff;--accent:#4f46e5;--muted:#6b7280}
    body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#eef2ff 0%,var(--bg) 100%);font-family:Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#111827}
    .wrap{width:min(420px,94%);padding:28px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(15,23,42,0.08);padding:22px;display:grid;grid-template-columns:76px 1fr;gap:16px;align-items:center}
    .avatar{width:76px;height:76px;border-radius:12px;overflow:hidden;flex:0 0 76px;border:2px solid rgba(79,70,229,0.08)}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .info h2{margin:0;font-size:18px;letter-spacing:-0.2px}
    .info p{margin:6px 0 0;color:var(--muted);font-size:13px}
    .meta{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .meta .row{display:flex;gap:10px;align-items:center;font-size:13px;color:var(--muted)}
    .actions{display:flex;gap:8px;margin-top:14px}
    .btn{background:transparent;border:1px solid rgba(15,23,42,0.06);padding:8px 10px;border-radius:10px;font-size:13px;color:#111827;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#7c3aed);color:#fff;border:0}
    .controls{display:flex;justify-content:space-between;align-items:center;margin-top:16px}
    .small{font-size:12px;color:var(--muted)}
    .error{color:#b91c1c;font-size:13px}
    @media (max-width:420px){.card{grid-template-columns:64px 1fr;padding:16px}.avatar{width:64px;height:64px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="userCard">
      <div class="avatar">
        <img id="avatar" src="https://via.placeholder.com/150" alt="User avatar">
      </div>
      <div class="info">
        <h2 id="fullname">Loading‚Ä¶</h2>
        <p id="username">@username</p>
        <div class="meta">
          <div class="row" id="emailRow">üìß <span id="email">‚Äî</span></div>
          <div class="row" id="phoneRow">üìû <span id="phone">‚Äî</span></div>
          <div class="row" id="locationRow">üìç <span id="location">‚Äî</span></div>
        </div>
        <div class="actions">
          <a id="emailBtn" class="btn" href="#">Email</a>
          <a id="callBtn" class="btn" href="#">Call</a>
          <button id="newUserBtn" class="btn primary">New User</button>
        </div>
      </div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
      <div class="small">Random User from <a href="https://randomuser.me/" target="_blank">randomuser.me</a></div>
      <div id="status" class="small">Ready</div>
    </div>
    <div id="error" class="error" style="display:none;margin-top:8px"></div>
  </div>

  <script>
    const avatarEl = document.getElementById('avatar');
    const fullEl = document.getElementById('fullname');
    const userEl = document.getElementById('username');
    const emailEl = document.getElementById('email');
    const phoneEl = document.getElementById('phone');
    const locEl = document.getElementById('location');
    const emailBtn = document.getElementById('emailBtn');
    const callBtn = document.getElementById('callBtn');
    const newUserBtn = document.getElementById('newUserBtn');
    const status = document.getElementById('status');
    const errorBox = document.getElementById('error');

    async function fetchAndRender() {
      status.textContent = 'Loading‚Ä¶';
      errorBox.style.display = 'none';
      try {
        const res = await fetch('https://randomuser.me/api/');
        if (!res.ok) throw new Error('Network response not ok');
        const data = await res.json();
        const user = data.results[0];
        const name = `${capitalize(user.name.first)} ${capitalize(user.name.last)}`;
        fullEl.textContent = name;
        userEl.textContent = '@' + (user.login.username || makeHandle(name));
        emailEl.textContent = user.email;
        phoneEl.textContent = user.phone;
        locEl.textContent = `${capitalize(user.location.city)}, ${capitalize(user.location.country)}`;
        avatarEl.src = user.picture.large;
        emailBtn.href = `mailto:${user.email}`;
        callBtn.href = `tel:${user.phone.replace(/\s+/g,'')}`;
        status.textContent = 'Loaded';
      } catch (err) {
        console.error(err);
        status.textContent = 'Error';
        errorBox.textContent = 'Could not load user. Check your network or try again.';
        errorBox.style.display = 'block';
      }
    }

    function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}
    function makeHandle(name){return name.toLowerCase().replace(/[^a-z0-9]+/g,'')}

    newUserBtn.addEventListener('click', () => {
      fetchAndRender();
    });

    // Load initial user on page open
    fetchAndRender();
  </script>
</body>
</html>
